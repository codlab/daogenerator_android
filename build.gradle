// Top-level build file where you can add configuration options common to all sub-projects/modules.

buildscript {
    repositories {
        jcenter()
    }
    dependencies {
        classpath 'com.android.tools.build:gradle:1.2.3'
        // NOTE: Do not place your application dependencies here; they belong
        // in the individual module build.gradle files
    }
}

allprojects {
    repositories {
        jcenter()
    }
}
apply plugin: 'application'
apply plugin: 'java'

mainClassName = "com.mobilebuilder.InternalDaoGenerator"

if (hasProperty('DAOGENERATOR_GENERATED_PATH_ROOT_PROJECT') || hasProperty('DAOGENERATOR_SCHEMA_PATH_ROOT_PROJECT')) {
    println("DEPRECATED\n"
            + "The current version is now self aware of the current compilation tree\n"
            + "Please set your schema.json in your module's root folder.\n"
            + "In each, add the 'output_dir' field which will put the generated file\n"
            + "in the correct relative path")
}

dependencies {
    compile fileTree(dir: 'libs', include: ['*.jar'])
    compile('de.greenrobot:DaoGenerator:1.3.0')
    compile('org.json:json:20140107')
}

run {
    def paths = []
    rootProject.getSubprojects().each { p -> paths << p.getProjectDir() }
    args = paths
}